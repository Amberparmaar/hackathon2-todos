["Task])       \u2502\n\u2502  - Task Dictionary              \u2502\n\u2502  - Runtime State                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n### Data Model\n```python\nclass Task:\n    id: int\n    title: str\n    description: str | None\n    completed: bool\n    created_at: datetime\n```\n\n### Technology Stack\n- **Language**: Python 3.11+\n- **Storage**: In-memory (no persistence)\n- **UI**: Console (stdin/stdout/stderr)\n\n### Design Decisions\n- **Rationale for In-Memory**: Simplicity, quick start, learning focus\n- **Rationale for Console UI**: Demonstrates CLI best practices, text I/O protocol\n- **Trade-offs**: No persistence across restarts (acceptable for Phase I)\n\n---\n\n## Phase II: Full-Stack Web App\n\n### Architecture Pattern\n- **Pattern**: Three-Tier Web Application\n- **Style**: RESTful API + SPA\n- **Storage**: Relational Database (PostgreSQL)\n\n### Components\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Frontend (Next.js)           \u2502\n\u2502  - App Router                      \u2502\n\u2502  - React Components                \u2502\n\u2502  - Tailwind CSS                    \u2502\n\u2502  - State Management                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 HTTP/REST\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Backend (FastAPI)              \u2502\n\u2502  - API Endpoints                   \u2502\n\u2502  - Business Logic                  \u2502\n\u2502  - Authentication (Better Auth)    \u2502\n\u2502  - Request Validation              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 SQL\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Database (Neon PostgreSQL)        \u2502\n\u2502  - Users Table                      \u2502\n\u2502  - Tasks Table                      \u2502\n\u2502  - Sessions Table                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n### Data Model\n```sql\nCREATE TABLE users (\n    id SERIAL PRIMARY KEY,\n    email VARCHAR(255) UNIQUE NOT NULL,\n    password_hash VARCHAR(255) NOT NULL,\n    created_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE tasks (\n    id SERIAL PRIMARY KEY,\n    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,\n    title VARCHAR(500) NOT NULL,\n    description TEXT,\n    completed BOOLEAN DEFAULT FALSE,\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n```\n\n### Technology Stack\n- **Frontend**: Next.js 14 (App Router), React 18, Tailwind CSS\n- **Backend**: FastAPI, Pydantic\n- **Database**: Neon PostgreSQL (managed), SQLModel\n- **Auth**: Better Auth (JWT)\n\n### Design Decisions\n- **Rationale for Three-Tier**: Separation of concerns, scalability, standard web pattern\n- **Rationale for Next.js**: Modern React framework, server-side rendering, App Router\n- **Rationale for FastAPI**: Fast, type-safe, auto-documentation\n- **Rationale for Neon**: Managed PostgreSQL, serverless scaling\n- **Trade-offs**: Authentication complexity (necessary for user isolation)\n\n---\n\n## Phase III: AI-Powered Chatbot\n\n### Architecture Pattern\n- **Pattern**: Event-Driven AI Agent System\n- **Style**: Stateful Client + Stateless Server\n- **Integration**: OpenAI Agents SDK + MCP\n\n### Components\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Frontend (OpenAI ChatKit UI)      \u2502\n\u2502  - Chat Interface                   \u2502\n\u2502  - Message History                 \u2502\n\u2502  - State Management                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 WebSocket/HTTP\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Backend (FastAPI + Agents SDK)     \u2502\n\u2502  - WebSocket Handler                \u2502\n\u2502  - Agent Orchestrator               \u2502\n\u2502  - MCP Server                       \u2502\n\u2502  - Task Controller                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 SQL\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Database (Neon PostgreSQL)        \u2502\n\u2502  - Users, Tasks (from Phase II)     \u2502\n\u2502  - Conversations Table              \u2502\n\u2502  - Agent States Table               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  External Services                  \u2502\n\u2502  - OpenAI API (GPT Models)          \u2502\n\u2502  - MCP Servers (Extensible)         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n### Data Model (Extended)\n```sql\nCREATE TABLE conversations (\n    id SERIAL PRIMARY KEY,\n    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE messages (\n    id SERIAL PRIMARY KEY,\n    conversation_id INTEGER REFERENCES conversations(id) ON DELETE CASCADE,\n    role VARCHAR(20) NOT NULL, -- 'user' or 'assistant'\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE agent_states (\n    id SERIAL PRIMARY KEY,\n    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,\n    state JSONB NOT NULL,\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n```\n\n### Technology Stack\n- **Frontend**: OpenAI ChatKit UI (React-based)\n- **Backend**: FastAPI, OpenAI Agents SDK, Official MCP SDK\n- **Database**: Neon PostgreSQL\n- **AI**: OpenAI API (GPT-4/GPT-3.5)\n\n### Design Decisions\n- **Rationale for Stateful Client + Stateless Server**: Conversations on client, business logic on server\n- **Rationale for Agents SDK**: OpenAI's recommended pattern for AI agents\n- **Rationale for MCP**: Extensibility, standard protocol for tools\n- **Trade-offs**: Increased complexity (necessary for AI integration)\n\n---\n\n## Phase IV: Local Kubernetes Deployment\n\n### Architecture Pattern\n- **Pattern**: Containerized Microservices\n- **Style**: Declarative IaC (Helm)\n- **Orchestration**: Kubernetes\n\n### Components\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  Kubernetes Cluster                     \u2502\n\u2502  (Local: Minikube)                                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 Frontend Pod \u2502  \u2502 Backend Pod  \u2502  \u2502 Database Pod \u2502 \u2502\n\u2502  \u2502 (Next.js)    \u2502  \u2502 (FastAPI)    \u2502  \u2502 (PostgreSQL) \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502         \u2502                   \u2502                   \u2502       \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                           \u2502                              \u2502\n\u2502                   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                     \u2502\n\u2502                   \u2502  Services &    \u2502                     \u2502\n\u2502                   \u2502  Ingress       \u2502                     \u2502\n\u2502                   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n### Technology Stack\n- **Containerization**: Docker\n- **Orchestration**: Kubernetes (Minikube)\n- **Package Manager**: Helm\n- **AI Tools**: kubectl-ai/kagent (for Helm chart generation)\n- **Optional**: Gordon (for Dockerfile generation)\n\n### Design Decisions\n- **Rationale for Kubernetes**: Industry standard, cloud-native, scalability\n- **Rationale for Minikube**: Local development, testing\n- **Rationale for Helm**: Package management, templating, reproducibility\n- **Trade-offs**: Complexity overhead (necessary for production readiness)\n\n---\n\n## Phase V: Advanced Cloud Deployment\n\n### Architecture Pattern\n- **Pattern**: Event-Driven Microservices with Dapr\n- **Style**: Cloud-Native, Distributed System\n- **Orchestration**: Cloud Kubernetes\n\n### Components\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Cloud Kubernetes Cluster                    \u2502\n\u2502  (AWS EKS / GKE / AKS)                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 Frontend     \u2502  \u2502 Task Service \u2502  \u2502 Notification \u2502 \u2502\n\u2502  \u2502 (Next.js)    \u2502  \u2502 (FastAPI)    \u2502  \u2502 Service      \u2502 \u2502\n\u2502  \u2502              \u2502  \u2502              \u2502  \u2502              \u2502 \u2502\n\u2502  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2502\n\u2502  \u2502 \u2502   Dapr   \u2502 \u2502  \u2502 \u2502   Dapr   \u2502 \u2502  \u2502 \u2502   Dapr   \u2502 \u2502 \u2502\n\u2502  \u2502 \u2502  Sidecar \u2502 \u2502  \u2502 \u2502  Sidecar \u2502 \u2502  \u2502 \u2502  Sidecar \u2502 \u2502 \u2502\n\u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502         \u2502                   \u2502                   \u2502       \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                           \u2502                              \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502         \u2502   Dapr Building Blocks             \u2502          \u2502\n\u2502         \u2502  - Pub/Sub (Kafka)                 \u2502          \u2502\n\u2502         \u2502  - State Store                     \u2502          \u2502\n\u2502         \u2502  - Bindings                        \u2502          \u2502\n\u2502         \u2502  - Jobs (Scheduling)               \u2502          \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502                           \u2502                              \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502         \u2502   Kafka / Redpanda                 \u2502          \u2502\n\u2502         \u2502  - Task Events                    \u2502          \u2502\n\u2502         \u2502  - Notification Events             \u2502          \u2502\n\u2502         \u2502  - Scheduling Events               \u2502          \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u2502\n\u2502  \u2502 PostgreSQL   \u2502  \u2502 Redis Cache  \u2502                    \u2502\n\u2502  \u2502 (Persistent) \u2502  \u2502 (Optional)   \u2502                    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n### Data Model (Extended)\n```sql\n-- Extended from Phase II\nCREATE TABLE tasks (\n    id SERIAL PRIMARY KEY,\n    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,\n    title VARCHAR(500) NOT NULL,\n    description TEXT,\n    completed BOOLEAN DEFAULT FALSE,\n    priority VARCHAR(10) CHECK (priority IN ('high', 'medium', 'low')),\n    tags VARCHAR(255)[], -- Array of tags\n    due_date TIMESTAMP,\n    recurring_schedule VARCHAR(100), -- Cron expression\n    recurrence_end_date TIMESTAMP,\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE task_events (\n    id SERIAL PRIMARY KEY,\n    task_id INTEGER REFERENCES tasks(id) ON DELETE CASCADE,\n    event_type VARCHAR(50) NOT NULL, -- 'created', 'updated', 'completed', 'due_reminder'\n    event_data JSONB,\n    timestamp TIMESTAMP DEFAULT NOW()\n);\n```\n\n### Technology Stack\n- **Orchestration**: Cloud Kubernetes (AWS EKS / GKE / AKS)\n- **Runtime**: Dapr (Distributed Application Runtime)\n- **Messaging**: Kafka or Redpanda (self-hosted or managed)\n- **Frontend**: Next.js (from Phase III)\n- **Backend**: FastAPI microservices\n- **Database**: PostgreSQL (cloud-hosted)\n- **Secrets**: Dapr Secret Store\n\n### Design Decisions\n- **Rationale for Dapr**: Language-agnostic building blocks, sidecar pattern, cloud-native\n- **Rationale for Kafka**: Event sourcing, decoupling, scalability\n- **Rationale for Microservices**: Independent scaling, fault isolation, team autonomy\n- **Trade-offs**: Complexity significantly higher (necessary for cloud-native, event-driven architecture)\n\n---\n\n## Cross-Phase Architectural Principles\n\n### 1. Progressive Complexity\nEach phase introduces complexity incrementally, with clear rationale and learning goals.\n\n### 2. Backward Compatibility\nFeatures from previous phases are preserved and enhanced.\n\n### 3. Data Evolution\nSchema evolution is designed to be backward-compatible where possible.\n\n### 4. Technology Reuse\nWhen appropriate, technologies from previous phases are carried forward (e.g., PostgreSQL from Phase II to Phase V).\n\n### 5. Cloud-Native Readiness\nBy Phase V, the system is fully cloud-native and production-ready.\n\n## Architectural Decision Records (ADRs)\n\nAll significant architectural decisions should be documented as ADRs in `history/adr/`. See @.specify/templates/adr-template.md for the ADR template.\n\n---\n\n**Version**: 1.0.0\n**Last Updated**: 2026-01-02"]